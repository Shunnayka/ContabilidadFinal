<div id="productos-table-container">
    <div class="table-responsive">
        <table class="table table-striped table-hover">
            <thead class="table-dark">
                <tr>
                    <th>CÓDIGO</th>
                    <th>NOMBRE</th>
                    <th>CATEGORÍA</th>
                    <th>UNIDAD</th>
                    <th>PRECIO COMPRA</th>
                    <th>PRECIO VENTA</th>
                    <th>STOCK</th>
                    <th>MÍNIMO</th>
                    <th>ESTADO</th>
                    <th>ACCIONES</th>
                </tr>
            </thead>
            <tbody>
                {% for producto in productos %}
                <tr>
                    <td>{{ producto.codigo }}</td>
                    <td>{{ producto.nombre }}</td>
                    <td>{{ producto.categoria_nombre or 'N/A' }}</td>
                    <td>{{ producto.unidad_abreviatura or 'N/A' }}</td>
                    <td>${{ "%.2f"|format(producto.precio_compra) }}</td>
                    <td>${{ "%.2f"|format(producto.precio_venta) }}</td>
                    <td>
                        <span class="badge bg-{% if producto.stock_actual <= producto.stock_minimo %}danger{% else %}success{% endif %}">
                            {{ producto.stock_actual }}
                        </span>
                    </td>
                    <td>{{ producto.stock_minimo }}</td>
                    <td>
                        <span class="badge bg-{% if producto.activo %}success{% else %}secondary{% endif %}">
                            {{ 'Activo' if producto.activo else 'Inactivo' }}
                        </span>
                    </td>
                    <td>
                        <button class="btn btn-sm btn-outline-info" onclick="verProducto({{ producto.id }})" 
                                data-bs-toggle="tooltip" title="Ver detalles">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-warning" onclick="editarProducto({{ producto.id }})" 
                                data-bs-toggle="tooltip" title="Editar producto">
                            <i class="fas fa-edit"></i>
                        </button>
                        <button class="btn btn-sm btn-outline-danger" 
                                onclick="eliminarProducto({{ producto.id }}, '{{ producto.nombre }}')" 
                                data-bs-toggle="tooltip" title="Eliminar producto">
                            <i class="fas fa-trash"></i>
                        </button>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="10" class="text-center text-muted">No se encontraron productos</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>