{% extends 'base.html' %}

{% block content %}
<div class="card">
    <h1>ğŸ“š MÃ³dulos de Aprendizaje</h1>
    <p>Selecciona un mÃ³dulo para fortalecer tus competencias digitales</p>

    <div class="grid">
        {% for modulo in modulos %}
        <div class="card modulo-card 
            {% if modulo.nivel_dificultad == 'basico' %}modulo-basico
            {% elif modulo.nivel_dificultad == 'intermedio' %}modulo-intermedio
            {% else %}modulo-avanzado{% endif %}">

            <div class="modulo-header">
                <h3>{{ modulo.nombre }}</h3>
                <span class="nivel-badge nivel-{{ modulo.nivel_dificultad }}">
                    {{ modulo.get_nivel_dificultad_display }}
                </span>
            </div>

            <p class="modulo-descripcion">{{ modulo.descripcion }}</p>

            <!-- Indicador de estado -->
            {% if modulo.esta_completado %}
            <div class="estado-completado">
                âœ… <strong>MÃ³dulo Completado</strong>
                <small style="display: block; margin-top: 0.25rem;">
                    Â¡Felicidades! Puedes repetirlo para reforzar conocimientos
                </small>
            </div>
            {% else %}
            <div class="estado-pendiente">
                ğŸ“š <strong>Listo para comenzar</strong>
            </div>
            {% endif %}

            <div class="modulo-footer">
                <small class="duracion">â±ï¸ {{ modulo.duracion_minutos }} min</small>

                <!-- Botones finales -->
                {% if modulo.esta_completado %}
                <div style="display: flex; gap: 0.5rem;">
                    <a href="{% url 'detalle_modulo' modulo.id %}" class="btn btn-repetir">
                        ğŸ”„ Repasar
                    </a>
                    <a href="{% url 'lista_certificados' %}" class="btn btn-certificado">
                        ğŸ“ Certificado
                    </a>
                </div>
                {% else %}
                <a href="{% url 'detalle_modulo' modulo.id %}" class="btn btn-comenzar">
                    ğŸ“– Empezar
                </a>
                {% endif %}
            </div>
        </div>
        {% empty %}
        <div class="card">
            <p>ğŸ“ No hay mÃ³dulos disponibles todavÃ­a.</p>
        </div>
        {% endfor %}
    </div>
</div>

<!-- Mensaje informativo -->
<div class="card" style="margin-top: 2rem; background: #e8f4fd; border-left: 4px solid #3498db;">
    <h3>ğŸ’¡ Â¿CÃ³mo funciona?</h3>
    <ol style="margin: 0.5rem 0; padding-left: 1.5rem;">
        <li><strong>Comienza un mÃ³dulo</strong> desde aquÃ­</li>
        <li><strong>Completa el diagnÃ³stico</strong> para evaluar tus habilidades</li>
        <li><strong>Revisa tu progreso</strong> en el panel correspondiente</li>
        <li><strong>Repite mÃ³dulos</strong> para reforzar conocimientos</li>
        <li><strong>Descarga tus certificados</strong> cuando completes los mÃ³dulos</li>
    </ol>
</div>
{% endblock %}